 See the ray diagram below. Decreasing $\theta_o$ decreases
$\theta_i$, so the equation $\theta_f=\pm\theta_i+\pm\theta_o$
must have opposite signs on the right. Since $\theta_o$ is bigger
than $\theta_i$, the only way to get a positive $\theta_f$ is if
the signs are $\theta_f=-\theta_i+\theta_o$.
This gives $1/f=-1/d_i+1/d_o$.

\anonymousinlinefig{soln-virtual-image-location}
